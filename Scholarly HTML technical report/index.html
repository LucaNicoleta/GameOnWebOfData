<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>GaDa - Technical Report</title>
    <link rel="stylesheet" href="css/scholarly.min.css">
    <script src="js/scholarly.min.js"></script>
  </head>
  <body prefix="schema: http://schema.org">
    <header>
      <div class="banner">
        <img src="marvel-characters.png" width="500" height="50" alt="marvel-logo">
        <img style="position: relative; top: 70px;" src="pokemon-characters.png" width="500" height="50" alt="pokemon-logo">
      </div>
      <h1>Game On Web Of Data</h1>
      <h3>Technical Report</h3>
    </header>
    <!--
      XXX
      - check refs
      - the math example has too much maths
      - bring back some of the old style
      - make semantics, validation, processing sub-sections of each structural element
      - have a section before that for general constructs
        - explain why use RDFa
        - explain our patterns: RDFa, roles
      - figure captions need to get set throughout
      - dedication? see doc-dedication
      - syntactic constraints (prefix)
      - needs more sthenurines
      - examples of everything
      - some notes on using Semantic CSS
      - needs more RDFa in the spec itself
    -->
    <div role="contentinfo">
      <dl>
        <dt>Authors</dt>
        <dd>
          Gheorghita Butnaru
          &amp;
          Ionut-Catalin Hazi
          &amp;
          Nicoleta Luca
      </dl>
    </div>
    <section typeof="sa:Abstract" id="abstract" role="doc-abstract">
      <h2>Abstract</h2>
      <p>
        This technical report contains details about the internal data structures and the APIs to be 
        used in the "Game On Web Of Data" <b>#GaDa</b> project.      
      </p>
    </section>
    <section id="introduction" role="doc-introduction">
      <!-- review? -->
      <h2>Introduction</h2>
      <p>
        Our project is going to be a simple web role playing game <b>(RPG)</b> having its characters described in 
        <b>RDF</b> based on <b>knowledge models</b>. Also, interrogations will be performed by 
        using <b>SPARQL</b> query language.
      </br> </br>

      The objective of this report is to explain what is the game logic, how it can be played, what characters and what data is taken
      into considerations from external APIs in order to create them. We will describe the components we will 
      develope and integrate in our project.

      <p>
        Rules, limitations, player interactions, characteristics, and assets will be modeled and 
        accessed by using <b>RDF</b>, <b>SPARQL</b>, <b>RDF Schema</b>, <b>SKOS</b>, and <b>OWL</b>. 
      </p>
        
        <p>
          Main tehnologies we have used:
          <ul>
            <li><b>Java & Spring Framework</b> for server side</li>
            <li><b>React & Typescript</b> for client side</li>
            <li><b>GraphDB</b> for storage</li>
            <li><b>RDF4J</b>, a java library and framework for working with RDF data - used to manipulate 
              <b>RDF</b> data, as well for its <b>SPARQL</b> query engine </li>
            <li><b>Protege</b>, an ontology editor and framework for building intelligent systems which includes useful 
              plugins for tasks such as inference (<b>HermiT</b>, <b>Pellet</b>), visualization (<b>OWLViz</b>, <b>VOWL</b>), and data integration</li>
          </ul>
        </p>

    </section>

    <section id="game">
      <h2>Game Overview</h2>

      <h3>Story</h3>
      <p>The story will be influenced by the player' Pokémon, decisions, experience, and level.</p>
      <p>The game has four levels and each level contains a number of scenes. The levels:
        <ul>
            <li><b>Water</b> - first level</li>
            <li><b>Air</b> - second level</li>
            <li><b>Earh</b> - third level</li>
            <li><b>Fire</b> - fourth level</li>
        </ul> 
        A scene may contain an image, an informative text, a question and/or answer options. Based on the actual scene and based on 
      the answer of the player, the next scene may take place.</p>
      <p>To see the entire story based on levels, click <a href="https://www.figma.com/file/9FQZebnYuzNVE9QYBN4SnA/ModelScene?node-id=170%3A491&t=px3HCIWxZKqZOVtZ-1">here</a>.</p>

      <h3>Exploration</h3>
      <p>
        The player can move his game character in different directions to different locations, can find hidden objects, 
        can meet rivals NPC characters. Also, he can find and catch Pokémon.
      </p>
      <p>
        At this point, the player can find only two items, one of them can increase the health points of the pokemon that used it, and the 
        other one can decrease the health points of the pokemon that used in.
      </p>

      <h3>Items</h3>
      <p>
        The player can find hidden objects while playing which can be used in order to get different benefits, gain or lose points.
      </p>
      <p>There are two types of items: bad items, and good items. Bad items can harm the life of a Pokémon, while good items have the opposite effect and improve their life.</p>

      <h3>Characters</h3>
      <p>
        At the beginning of the game, the player can select from a list which Marvel character he wants to represent. </br>
        Also, in the game will be NPC Marvel characters. </br>
        Each character will have a set of pokémon with different powers and abilities. These pokémon will be used in 
        battles with other Marvel characters' pokémon. 
      </p>
      <p>The available Marvel characters to be chosen at the begin of the game are: <b>Namor</b> (Water), <b>Thor</b> (Air), <b>Dust</b> (Earth), <b>Human Torch</b> (Fire)</b></p>
      <P>
        Another characters are the pokemon that can be found on each level: <b>squirtle</b> (Water), <b>pidgeot</b> (Air), <b>rockruff</b>(Earth),
         and for the last level (Fire), the pokemon will not be found, it will have to be earned through battle.
      </p>
      <p>
        There are NPCs who will be opponents in the fight:
        <ul>
          <li><b>Triton</b>(Water) - has a pokemon named <b>tentacruel</b></li> 
          <li> <b>Storm</b>(Air) - has a pokemon named <b>fearow</b></li> 
          <li><b>Avalanche</b>(Earth) - has a pokemon named <b>boldore</b></li> 
          <li><b>Firestar</b>(Fire) - has a pokemon named <b>charmander</b></li>  
          <li><b>Firebird</b>(Fire) - has two named species: <b>vulpix</b>, and <b>litten</b></li> 
        </ul>
      </p>


      <h3>Goal</h3>
      <p>
        The goal is to complete all levels by interacting with the NPC players, by answering at the given questions,
        and by accepting and winning pokémon battles with the NPC Marvel characters he can meet while exploring 
        or by finding and collecting (and/or using) hidden items or/and different pokémon species.
      </p>

      <h3>Levels</h3>
      <p>
        A certain level can give the player's Pokémon more skills, powers, and make them stronger, increasing their chances to win a battle.
        More than that, different Pokémon, items, and NPC Marvel characters can show up after a specific level. 
      </p>
      <p>
        According to the current story of the game, he can catch a pokemon by winning a battle which takes place at the last level.
      </p>

      <h3>Action</h3>
      <p>
        As the player explores various locations, he may encounter NPC rivals with whom he can start a battle.
      </p>
      <p>Another type of action is the interaction between player and different NPCs where the player is asked a question and he can give an answer 
        by choosing one possible response from the list of the available responses. Based on the given response, a specific scene may show up.
      </p>

      <h3>Interface</h3>
      <p>
        All interactions between players and the game itself is textual.
        The player can choose from a set of options the next move he wants to make by clicking on it
        (the available actions/moves are based on a specific context and given based on the current game state). </br> </br>

        The evolution of the story will be presented through a text. </br>
        When needed, a help info can be shown at the interface (tutorial).
      </p>
    </section>

    <section id="components">
      <h2>Software Components</h2>

      <section id="component-1">
        <h3>Database</h3>
        <p>
          The <b>DB</b> we are using in our project is <b>GraphDB</b>, a database management system that is designed to store, manage, and query graph data.
          All relevent data such as users and their game state, characters (Marvel & Pokémon), abilities, items, players goes here.
        </p>
        <p>
          The data is stored as a graph structure, consisting of nodes and edges. 
          Each node represents a subject, predicate, or object in the RDF triple, 
          and the edges represent the relationships between the subjects and objects.
        </p>
      </section>

      <section id="component-data">
        <h2>Data</h2>
        <p>
            As above said, the data is stored in GraphDB consisting of RDF triples. 
            We have our ontology saved into a <b>.owl</b> file in the RDF/XML format (exported from Protege) and imported it into GraphDB by the help of 
            GraphDB Workbench.
        </p>
        <p>
          The ontology has the following hierarchy of classes, object properties, and data properties: <br/>
          <img src="img/protege.png"/>
        </p>
        <p>
          We save, update, retrieve, and delete our data through a <b>SPARQL Endpoint</b> which uses a connection with our GraphDB created by the help of RDF4J library.
        </p>
        <p>
          The <b>SPARQL Endpoint</b> needs <b>SPARQL Queries</b> in order to perform the desired CRUD operations on the data. For example, when we want to 
          find a pokemon by name, we use the following query:
          <img src="img/findQuery.GIF"/>
        </p>
        <p>
          Or, when we want to update an item, we use the following query: 
          <img src="img/updateQuery.GIF"/>
        </p>
        <p>The complete ontology overview with <b>VOWL</b> plugin: <img src="img/owl.png"/></p>
        <p>
          For our ontology we have used some existent ontologies:
          <ul>
            <li><b>http://purl.org/dc/terms/</b> - Dublin Core Metadata Element Set, an ontology that provides a simple standard for describing resources on the web</li>
            <li><b>http://purl.org/net/VideoGameOntology#</b> - Video Game Ontology, an ontology that provides a vocabulary for describing information about video games</li>
            <li><b>http://xmlns.com/foaf/0.1/</b> - Friend of a Friend (FOAF) ontology, an ontology that provides a vocabulary for describing information about people and the relationships between them</li>
          </ul>
        </p>
      </section>

      <section id="component-2">
        <h3>RestAPI</h3>
        <p>
          The API provided by the server side is able to send data to the client. 
        </p>
        <h4>Basic endpoints:</h4>
        <section id="enemy-gen">  
          <h3>Enemy generator - "/npc/{level}"</h3>
          <p>
            Marvel enemies may be ganerated based on the levels: WATER, AIR, EARTH, FIRE.
            <img src="img/enemy.gif"/>
            The name, imageURL, description for the marvel character is taken from MarvelAPI. </br>
            The name, imageURL, abilities for the pokemon is taken from PokeAPI. </br>
            The powerAttack, powerDefense, healthPoints for the pokemon are set based on the level. </br>
            The RES_IDENTIFIER is an UUID to ensure the unicity of entities.
          </p>
        </section>
        <section id="signup">
          <h3>Signup - "/auth/signup"</h3>
          <p>
            Players can be saved through this endpoint.
          </p>
        </section>
        <section id="login">
          <h3>Signup - "/login"</h3>
          <p>
            Players can log in through this endpoint.
          </p>
        </section>
        <section id="marvel-ep">
          <h3>Find all marvel characters - "/marvel"</h3>
          <p>
            Returns a list with all marvel characters in the database.
          </p>
        </section>
        <section id="marvel-name-ep">
          <h3>Find a marvel character - "/marvel/{nameStartsWith}"</h3>
          <p>
            Returns a Marvel character having its name starting with the nameStartsWith if found from MarvelAPI. 
            The result will be saved in the database.
          </p>
        </section>
        <section id="pokemon-ep">
          <h3>Find all pokemon - "/pokemon"</h3>
          <p>
            Returns a list of pokemon in the database.
          </p>
        </section>
        <section id="pokemon-name-ep">
          <h3>Find a pokemon - "/pokemon/name"</h3>
          <p>
            Returns a pokemon having its name as specified in the endpoint. The pokemon is taken from PokeAPI, 
            and the result is saved in the database.
          </p>
        </section>
      </section>

      <section id="component-3">
        <h3>Battle Strategy / Manager</h3>
        <p>
          This component generates rules and strategies for both player and NPC players. 
        </p>
        <p>
          For example, a specific pokémon can only use the powers it has based on some game logic and 
          according to the game level. </br>

          There can be one or more constraints. For example, a specific pokémon can not use a specific power
          if the player has not reached a specific level.
        </p>
        <p>It can decide when a battle ends and who the winner is. </p>
      </section>

      
      <section id="component-4">
        <h3>Game State</h3>
        <p>
          The game state component contains the progress of the player, his points, his level. 
           </br> </br>

          Based on the game state different actions can be generated. For example, based on a certain state:
          <ul>
            <li>it can be decided if the player can move to the next level</li>
            <li>it can be decided if a specific help message can be shown to the user</li>
            <li>it can be decided what is the next scene</li>
          </ul>
        </p>
      </section>

      <section id="component-5">
        <h3>Authentication</h3>
        <p>
          This component is responsible for user registration and authentication.
        </p>
      </section>

      <section id="component-5">
        <h3>Game Settings</h3>
        <p>
          This component will allow the user to change and save different game settings such as sound on/off, 
          nickname change, text colors.
        </p>
      </section>

      <section id="component-6">
        <h3>UI</h3>
        <p>
          A prototype of user interface can be seen below.
        </p>
        <img src="ui.png" width="500" height="300" alt="ui-prototype">
        <p>
          Its components:
          <ul>
            <li><b>Main frame</b> - important frames from the game will appear here</li>
            <li><b>Hint button</b> - it will display a message meant to guide the user on what he needs to do</li>
            <li><b>Inventory button</b> - it will show the list of available items and/or pokémon</li>
            <li><b>Settings button</b> - different game settings the user can change</li>
            <li><b>Restart button</b> - it will restart the game</li>
            <li><b>Text area</b> - in this area will appear a text presenting the story and what happens in the game</li>
            <li><b>List of actions</b> - in this area will appear a list of available actions the player can do by clicking on one of them</li>
          </ul>
        </p>
      </section>
    </section>

    <section id="project-structure">
      <h3>Arhitecture (MarvelMonPlay - server)</h3>
      <p>
        The project is structured into three main layers (3 tier architecture):
        <ul>
          <li><b>Repository</b> - uses a SPARQL Endpoint to communicate with the database</li>
          <li><b>Service</b> - contains the bussiness logic and uses the repositories when needed</li>
          <li><b>Controller</b> - uses services and exposes endpoints for clients</li>
        </ul>
      </p>
    </section>

    <section id="case-studies">
      <h3>Case Studies</h3>
      
    </section>

    <section id="External APIs">
      <h3>External APIs</h3>
      The application uses two external APIs: Marvel Comics API and PokeAPI.

      <section id="api-1">
        <h3>Marvel Comics API</h3>
        <p>
          We will use the <a href="https://developer.marvel.com/">Marvel Comics</a> API's base endpoint <b>http(s)://gateway.marvel.com/</b> to get
          different resources in order to build our game characters. The resources provided by this API are
          represented as <b>JSON objects</b> and we will be able to access them through an <b>API key</b>.
        </p>
        <p>
          From the available resources provided by the Marvel Comics API, we will use in our
          project the data about <b>Marvel Characters</b>: the women, men, organizations, alien species, deities,
          animals, non-corporeal entities, trans-dimensional manifestations, abstract personifications, and green
          amorphous blobs which occupy the Marvel Universe (and various alternate universes, timelines and
          altered realities therein). For example, Spider-Man. We will also use the <b>image</b> of each marvel character.
        </p>
        <p>
          The concrete data we are take into consideration from this API is:
          <ul>
            <li>Name</li>
            <li>ImageURL</li>
            <li>Description</li>
          </ul>
          This data is saved in our database for the purpose of reusing it the next time without calling the API again, and to find it in the database instead.
        </p>
      </section>
       

      <section id="api-2">
        <h3>PokéAPI</h3>
        <p>
          The second API we are going to use is <a href="https://pokeapi.co/">PokéAPI</a>. Its base endpoint is <b>https://pokeapi.co/api/</b>. 
          This API has two versions v1, and v2. We will use the second version of it, v2. The endpoint we will use is
          <b>https://pokeapi.co/api/v2/{endpoint}</b>.
        </p>

        <p>
          The resources provided by this API are represented as <b>JSON objects</b> and we are able to access
          them <b>without an API key</b>. This API can provide us useful resources in order to create pokémon with
          different powers, abilities, levels, and more.
        </p>
        <p>
          From this API we take into consideration:
          <ul>
            <li>Abilities - with their name and description</li>
            <li>ImageURL</li>
            <li>Name</li>
          </ul>
          This data is also saved in our database for the purpose of reusing it without calling the API again.
        </p>
      </section>
    </section>

    <section id="conc"> 
      <h3>Conclusion</h3>  
      <p>
        In conclusion, the team's project on "game on web of data" was a complex and demanding task, 
        requiring a high level of expertise in web engineering and the use of different tools and technologies
        Despite the challenges faced, the team made notable progress and completed some of the initial goals. 
        The project was developed following best practices in web engineering, including documentation, 
        modularity, bug reporting, and modern source-code management. All data managed by the application was described in RDF, 
        and various interrogations were performed using the SPARQL query language, demonstrating the team's understanding of the 
        principles of the web of data.
      </p>
      </section>
  </body>
</html>
